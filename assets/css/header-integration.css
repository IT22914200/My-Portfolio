/*=============== HEADER INTEGRATION STYLES ===============*/

/* Ensure proper integration with existing styles */
.header {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    z-index: 1000 !important;
}

/* Override any conflicting nav styles */
.nav {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
}

/* Ensure proper mobile menu z-index */
.nav__menu {
    z-index: 1001 !important;
}

/* Fix any potential container conflicts */
.nav.container {
    max-width: 1200px;
    margin: 0 auto;
}

/*=============== LOADING STATE STYLES ===============*/

/* Header loading animation */
.header.loading {
    opacity: 0;
    transform: translateY(-100%);
}

.header.loaded {
    opacity: 1;
    transform: translateY(0);
    transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

/*=============== ENHANCED VISUAL EFFECTS ===============*/

/* Subtle glow effect for the entire header */
.header.scrolled {
    box-shadow: 
        0 10px 30px rgba(0, 0, 0, 0.3),
        0 0 20px rgba(138, 97, 255, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

/* Enhanced glassmorphism */
.header::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg, 
        rgba(138, 97, 255, 0.02) 0%, 
        rgba(255, 107, 157, 0.02) 50%, 
        rgba(138, 97, 255, 0.02) 100%);
    pointer-events: none;
    transition: opacity 0.3s ease;
    opacity: 0;
}

.header:hover::after {
    opacity: 1;
}

/*=============== MOBILE ENHANCEMENTS ===============*/

@media screen and (max-width: 768px) {
    .nav {
        padding: 0 1rem;
    }
    
    .nav__menu {
        box-shadow: 
            -10px 0 30px rgba(0, 0, 0, 0.5),
            inset 1px 0 0 rgba(255, 255, 255, 0.05);
    }
    
    .nav__menu.show {
        box-shadow: 
            -20px 0 50px rgba(0, 0, 0, 0.7),
            inset 1px 0 0 rgba(255, 255, 255, 0.1);
    }
}

/*=============== PERFORMANCE OPTIMIZATIONS ===============*/

/* GPU acceleration for smooth animations */
.header,
.nav__logo,
.nav__link,
.theme-toggle,
.nav__toggle {
    will-change: transform;
    transform: translateZ(0);
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    .header,
    .nav__logo,
    .nav__link,
    .theme-toggle,
    .nav__toggle,
    .nav__menu {
        animation: none !important;
        transition: opacity 0.2s ease !important;
    }
    
    .header::before,
    .header::after {
        display: none !important;
    }
}

/*=============== HIGH CONTRAST MODE ===============*/

@media (prefers-contrast: high) {
    .header {
        background: rgba(0, 0, 0, 0.95) !important;
        border-bottom: 2px solid #ffffff !important;
    }
    
    .nav__link {
        color: #ffffff !important;
    }
    
    .nav__link:hover,
    .nav__link.active {
        background: #ffffff !important;
        color: #000000 !important;
    }
}

/*=============== PRINT STYLES ===============*/

@media print {
    .header {
        display: none !important;
    }
}

/*=============== ACCESSIBILITY IMPROVEMENTS ===============*/

/* Focus indicators */
.nav__link:focus,
.theme-toggle:focus,
.nav__toggle:focus,
.nav__close:focus {
    outline: 2px solid #8A61FF;
    outline-offset: 2px;
    border-radius: 4px;
}

/* Screen reader improvements */
.nav__toggle[aria-expanded="true"] .sr-only::after {
    content: " (expanded)";
}

.nav__toggle[aria-expanded="false"] .sr-only::after {
    content: " (collapsed)";
}

/*=============== DARK MODE SPECIFIC STYLES ===============*/

[data-theme="dark"] .header {
    background: rgba(16, 20, 38, 0.95);
    border-bottom-color: rgba(138, 97, 255, 0.2);
}

[data-theme="dark"] .header.scrolled {
    background: rgba(16, 20, 38, 0.98);
}

[data-theme="light"] .header {
    background: rgba(255, 255, 255, 0.95);
    border-bottom-color: rgba(0, 0, 0, 0.1);
}

[data-theme="light"] .header.scrolled {
    background: rgba(255, 255, 255, 0.98);
    box-shadow: 
        0 10px 30px rgba(0, 0, 0, 0.1),
        0 0 20px rgba(0, 0, 0, 0.05);
}

[data-theme="light"] .nav__link {
    color: rgba(0, 0, 0, 0.7);
}

[data-theme="light"] .nav__link:hover,
[data-theme="light"] .nav__link.active {
    color: #8A61FF;
    background: rgba(138, 97, 255, 0.1);
}

/*=============== CUSTOM SCROLLBAR FOR MOBILE MENU ===============*/

.nav__menu::-webkit-scrollbar {
    width: 4px;
}

.nav__menu::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
}

.nav__menu::-webkit-scrollbar-thumb {
    background: rgba(138, 97, 255, 0.5);
    border-radius: 2px;
}

.nav__menu::-webkit-scrollbar-thumb:hover {
    background: rgba(138, 97, 255, 0.7);
}
